<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Georgey Porgyâ€™s Mega Table</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            text-align: center;
        }

        h1 {
            text-align: center;
        }

        .controls {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .controls label,
        .controls input,
        .controls button {
            margin-right: 10px;
            font-size: 16px;
        }

        table {
            border-collapse: collapse;
            width: 100%;
            margin-top: 20px;
        }

        th, td {
            border: 1px solid #ddd;
            text-align: center;
            padding: 8px 25px;
            font-size: 14px;
        }

        th {
            background-color: #f2f2f2;
            position: sticky;
            top: 0;
            z-index: 2;
        }

        .quiz-container {
            margin-top: 20px;
            padding: 10px;
            border: 2px solid #ddd;
            display: inline-block;
            text-align: center;
        }

        .quiz-container button {
            margin-top: 10px;
        }

        .quiz-feedback {
            margin-top: 10px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Georgey Porgyâ€™s Mega Table</h1>
    <div class="controls">
        <div>
            <label for="range">Table Range (e.g., 10 for 1-10):</label>
            <input type="number" id="range" min="1" value="10">
            <button onclick="generateTable()">Generate Table</button>
        </div>
    </div>

    <div id="table-container"></div>

    <!-- Quiz Section -->
    <div class="quiz-container">
        <h2>Quiz Time!</h2>
        <p id="quiz-question">Press "Start Quiz" to begin.</p>
        <input type="number" id="quiz-answer" placeholder="Enter your answer">
        <button onclick="checkAnswer()">Submit</button>
        <button onclick="generateQuestion()">Next Question</button>
        <p class="quiz-feedback" id="quiz-feedback"></p>
        <p>Score: <span id="quiz-score">0</span></p>
    </div>

    <script>
        let correctAnswer = 0;
        let score = 0;

        function gcd(a, b) {
            while (b !== 0) {
                [a, b] = [b, a % b];
            }
            return a;
        }

        function generateTable() {
            const range = document.getElementById('range').value;
            const container = document.getElementById('table-container');
            container.innerHTML = '';

            const table = document.createElement('table');
            const headerRow = document.createElement('tr');

            const emptyCell = document.createElement('th');
            headerRow.appendChild(emptyCell);
            for (let i = 1; i <= range; i++) {
                const th = document.createElement('th');
                th.textContent = i;
                headerRow.appendChild(th);
            }
            table.appendChild(headerRow);

            for (let i = 1; i <= range; i++) {
                const row = document.createElement('tr');
                const headerCell = document.createElement('th');
                headerCell.textContent = i;
                row.appendChild(headerCell);

                for (let j = 1; j <= range; j++) {
                    const cell = document.createElement('td');
                    const fraction = `${i}/${j}`;
                    const divisor = gcd(i, j);
                    const simplifiedFraction = divisor > 1 ? `(${i / divisor}/${j / divisor})` : '';
                    const decimal = (i / j).toFixed(2);

                    cell.innerHTML = `
                        <div>${i * j}</div>
                        <div>${fraction} ${simplifiedFraction}</div>
                        <div>${decimal}</div>
                    `;
                    row.appendChild(cell);
                }
                table.appendChild(row);
            }

            container.appendChild(table);
        }

        function generateQuestion() {
            const range = document.getElementById('range').value;
            let num1 = Math.floor(Math.random() * range) + 1;
            let num2 = Math.floor(Math.random() * range) + 1;

            let questionType = Math.random() < 0.5 ? "multiplication" : "division";

            let questionText;
            if (questionType === "multiplication") {
                correctAnswer = num1 * num2;
                questionText = `What is ${num1} Ã— ${num2}?`;
            } else {
                correctAnswer = num1;
                let product = num1 * num2;
                questionText = `What is ${product} Ã· ${num2}?`;
            }

            document.getElementById('quiz-question').textContent = questionText;
            document.getElementById('quiz-answer').value = '';
            document.getElementById('quiz-feedback').textContent = '';
        }

        function checkAnswer() {
            const userAnswer = parseInt(document.getElementById('quiz-answer').value);

            if (!isNaN(userAnswer)) {
                if (userAnswer === correctAnswer) {
                    document.getElementById('quiz-feedback').textContent = "Correct! ðŸŽ‰";
                    score++;
                } else {
                    document.getElementById('quiz-feedback').textContent = `Wrong! The correct answer was ${correctAnswer}. ðŸ˜¢`;
                }
                document.getElementById('quiz-score').textContent = score;
            } else {
                document.getElementById('quiz-feedback').textContent = "Please enter a number.";
            }
        }

        window.onload = generateTable;
    </script>
</body>
</html>
